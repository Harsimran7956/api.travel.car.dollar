##Api Microservices

The Dollar Microservices is an API interface that get cars data.The interface allows for posting JSON objects over HTTP (Body Request) and the return payload is also the same.

###Environment
Java 11
Git

### Properties
####config.properties
In this properties file you can define:

* port - This is the port on which the application will listen on startup
* maxthreads - Maximum request can be simultaneously handle by request processing threads
* minthreads - Minimum request can be simultaneously handle by request processing threads
* debug - Whether errors will be returned with debug html page
* allowcors - Enables CORS functionality
* allowssl - Enables SSL security mechanism
* savePath -  Path location where log file will be saved
* Urls and other constant data needed to execute search,book and cancel calls 

####log4j.properties
This file manages the logs generated by the application. Create a new log file at midnight each day.
Path of log file that will be created is /tmp/api-travel-car-dollar.log

###Services

* Search ---Get information about available cars based on pickUpdateTime,dropOffDateTime, pickUpLocationCode and dropOffLocationcode.  
* Book -----Book cars for mentioned date,time and location codes.
* Cancel----Cancel a booking based on confirmationId recieved during booking process.

###Payload

#####Search Request
```  
{
    "currencyCode": "CAD",                                           //Type--String (3 char)---------Mandatory
    "pickUpDateTime": "2020-04-14 15:00:00",                         //Type--String------------------Mandatory,  
    "dropOffDateTime": "2020-04-21 09:00:00",                        //Type--String------------------Mandatory 
    "pickUpLocationCode": "MCO",                                     //Type--String(AlphaNumeric)----Mandatory  
    "dropOffLocationCode": "MCO",                                    //Type--String(AlphaNumeric)----Mandatory  
    "tourNumber":"IT1005255GPS",                                     //Type--String------------------Mandatory  
    "countryCode":"GB"                                               //Type--String (2 char)---------Mandatory   
  }
```  
#####Search Response
```  
{
    "isSuccess": true,                                                                                  //Boolean
    "currencyCode": null,                                                                               //String
    "pickUpLocationCode": "MCO",                                                                        //String
    "dropOffLocationCode": "MCO",                                                                       //String
    "pickUpDateTime": "2020-04-14T15:00:00",                                                            //String
    "dropOffDateTime": "2020-04-21T09:00:00",                                                           //String   
    "pickUpLocationName": "ORLANDO INTERNATIONAL AIRPORT",                                              //String
    "dropOffLocationName": "ORLANDO INTERNATIONAL AIRPORT",                                             //String
    "supplier": {
        "code": "ZT",                                                                                   //String
        "name": "THRIFTY",                                                                              //String
        "vehicles": [                   
            {
                "sipp": "null",                                                                         //String
                "name": "Chevrolet Spark",                                                              //String
                "isAvailable": true,                                                                    //Boolean
                "isAirCondition": true,                                                                 //Boolean
                "transmissionType": "Automatic",                                                        //String
                "fuelType": null,                                                                       //String
                "passengerQuantity": 4,                                                                 //Integer
                "baggageQuantity": 1,                                                                   //Integer
                "pictureUrl": "http://www.thrifty.com/~/media/D439D08E0A544B509AA45FEE98EBFDD4.ashx",   //String
                "vechileModelName": "Chevrolet Spark",                                                  //String
                "vehicleModelCode": "ECAR",                                                             //String
                "vechileReferenceId": null,                                                             //String
                "rate": {   
                    "totalRate": 185.5,                                                                 //float
                    "currency": "USD",                                                                  //String
                    "additionalRates": null
                }
            },
            {
                "sipp": "null",
                "name": "Chevrolet Spark",
                "isAvailable": true,
                "isAirCondition": true,
                "transmissionType": "Automatic",
                "fuelType": null,
                "passengerQuantity": 4,
                "baggageQuantity": 1,
                "pictureUrl": "http://www.thrifty.com/~/media/D439D08E0A544B509AA45FEE98EBFDD4.ashx",
                "vechileModelName": "Chevrolet Spark",
                "vehicleModelCode": "EDAR",
                "vechileReferenceId": null,
                "rate": {
                    "totalRate": 185.5,
                    "currency": "USD",
                    "additionalRates": null
                }
            },
            {
                "sipp": "null",
                "name": "Nissan Versa",
                "isAvailable": true,
                "isAirCondition": true,
                "transmissionType": "Automatic",
                "fuelType": null,
                "passengerQuantity": 5,
                "baggageQuantity": 3,
                "pictureUrl": "http://www.thrifty.com/~/media/20E723C255BA442EA891FEE8CED39042.ashx",
                "vechileModelName": "Nissan Versa",
                "vehicleModelCode": "CCAR",
                "vechileReferenceId": null,
                "rate": {
                    "totalRate": 185.5,
                    "currency": "USD",
                    "additionalRates": null
                }
            },
            {
                "sipp": "null",
                "name": "Nissan Versa",
                "isAvailable": true,
                "isAirCondition": true,
                "transmissionType": "Automatic",
                "fuelType": null,
                "passengerQuantity": 5,
                "baggageQuantity": 3,
                "pictureUrl": "http://www.thrifty.com/~/media/20E723C255BA442EA891FEE8CED39042.ashx",
                "vechileModelName": "Nissan Versa",
                "vehicleModelCode": "CDAR",
                "vechileReferenceId": null,
                "rate": {
                    "totalRate": 185.5,
                    "currency": "USD",
                    "additionalRates": null
                }
            },
            {
                "sipp": "null",
                "name": "Wild Card (Compact or larger, if available)",
                "isAvailable": true,
                "isAirCondition": true,
                "transmissionType": "Automatic",
                "fuelType": null,
                "passengerQuantity": 5,
                "baggageQuantity": 2,
                "pictureUrl": "http://www.thrifty.com/~/media/626D6FC1330E47278056E4E35D798F7A.ashx",
                "vechileModelName": "Wild Card (Compact or larger, if available)",
                "vehicleModelCode": "XXAR",
                "vechileReferenceId": null,
                "rate": {
                    "totalRate": 185.5,
                    "currency": "USD",
                    "additionalRates": null
                }
            },
            {
                "sipp": "null",
                "name": "Toyota Corolla",
                "isAvailable": true,
                "isAirCondition": true,
                "transmissionType": "Automatic",
                "fuelType": null,
                "passengerQuantity": 5,
                "baggageQuantity": 2,
                "pictureUrl": "http://www.thrifty.com/~/media/66F35EC9E4934C16A317AB8416F57238.ashx?20180810T1214476493",
                "vechileModelName": "Toyota Corolla",
                "vehicleModelCode": "ICAR",
                "vechileReferenceId": null,
                "rate": {
                    "totalRate": 185.5,
                    "currency": "USD",
                    "additionalRates": null
                }
            },
            {
                "sipp": "null",
                "name": "Toyota Corolla",
                "isAvailable": true,
                "isAirCondition": true,
                "transmissionType": "Automatic",
                "fuelType": null,
                "passengerQuantity": 5,
                "baggageQuantity": 2,
                "pictureUrl": "http://www.thrifty.com/~/media/66F35EC9E4934C16A317AB8416F57238.ashx?20180810T1214476493",
                "vechileModelName": "Toyota Corolla",
                "vehicleModelCode": "IDAR",
                "vechileReferenceId": null,
                "rate": {
                    "totalRate": 185.5,
                    "currency": "USD",
                    "additionalRates": null
                }
            },
            {
                "sipp": "null",
                "name": "Jeep Compass",
                "isAvailable": true,
                "isAirCondition": true,
                "transmissionType": "Automatic",
                "fuelType": null,
                "passengerQuantity": 5,
                "baggageQuantity": 4,
                "pictureUrl": "http://www.thrifty.com/~/media/06D5A565AC2E4CB9A5D53687E5BA0B81.ashx",
                "vechileModelName": "Jeep Compass",
                "vehicleModelCode": "IFAR",
                "vechileReferenceId": null,
                "rate": {
                    "totalRate": 185.5,
                    "currency": "USD",
                    "additionalRates": null
                }
            },
            {
                "sipp": "null",
                "name": "Chevrolet Cruze",
                "isAvailable": true,
                "isAirCondition": true,
                "transmissionType": "Automatic",
                "fuelType": null,
                "passengerQuantity": 5,
                "baggageQuantity": 2,
                "pictureUrl": "http://www.thrifty.com/~/media/A0BC387B06F84D9FAFE0DCF9555348EE.ashx?20180810T1024067021",
                "vechileModelName": "Chevrolet Cruze",
                "vehicleModelCode": "SCAR",
                "vechileReferenceId": null,
                "rate": {
                    "totalRate": 185.5,
                    "currency": "USD",
                    "additionalRates": null
                }
            }
          ]
      }
}
```  
#####Book Request
```  
{
	"currencyCode":"USD",                                       //Type--String (3 char)----------------Mandatory
	"pickUpDateTime":"2020-07-10T15:00:00",                     //Type--String ------------------------Mandatory
	"dropOffDateTime":"2020-07-15 15:00:00",                    //Type--String ------------------------Mandatory
	"pickUpLocationCode":"MLBC01",                              //Type--String (AlphaNumeric)----------Mandatory
	"dropOffLocationCode":"MCO",                                //Type--String (AlphaNumeric)----------Mandatory
	"title":"test",                                             //Type--String ------------------------Mandatory
	"driverTitle":"Mr",                                         //Type--String ------------------------Mandatory
	"firstName":"test",                                         //Type--String ------------------------Mandatory
	"surName" : "test",                                         //Type--String ------------------------Mandatory
	"tourNumber":"IT1005256PSL",                                //Type--String ------------------------Mandatory
	"countryCode":"GB",                                         //Type--String (2 char)----------------Mandatory
	"email":"harsimranjeet.singh@kamadhenu.co.in",              //Type--String ------------------------Mandatory
	"telephoneNumber":"123456789",                              //Type--String ------------------------Mandatory
	"ourBookingRef":"ACH-2-20191209",                           //Type--String ------------------------Mandatory
	"rateCode":"",                                              //Type--String ------------------------Not Mandatory
	"flightCarrier":"",                                         //Type--String ------------------------Not Mandatory
	"rateQualifier":""                                          //Type--String ------------------------Not Mandatory
	
}
```  
#####Book Response
```  
{
    "rate": {
        "totalRateAmount": 180.0                                //float
    },
    "isSuccess": true,                                          //Boolean
    "confirnationId": "J2421665532"                             //String
}
```  
#####Cancel Request
```  
{
    "currencyCode": "USD",                                           //Type--String (3 char)----------------Mandatory
    "surName": "test",                                               //Type--String ------------------------Mandatory
    "givenName": "test",                                             //Type--String ------------------------Mandatory
    "bookingRef": "J2421665532",                                     //Type--String ------------------------Mandatory
    "supplierCode":"ZR",                                             //Type--String ------------------------Mandatory
    "countryCode" : "GB"                                             //Type--String (2 char)----------------Mandatory
  }
```  
 
#####Cancel Response
```  
{
    "id": "J2421665532",                                            //String
    "cancelStatus": "Cancelled"                                     //String
}
```  

